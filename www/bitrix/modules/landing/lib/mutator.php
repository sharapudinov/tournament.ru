<? namespace Bitrix\Landing;$GLOBALS['____527280285']= array(base64_decode('ZGVma'.'W5l'),base64_decode('ZX'.'hwbG9kZQ=='),base64_decode('cG'.'F'.'jaw=='),base64_decode(''.'bWQ1'),base64_decode('Y29uc'.'3Rh'.'bnQ='),base64_decode('aGF'.'z'.'aF9obWF'.'j'),base64_decode(''.'c3R'.'yY21w'),base64_decode('ZXh'.'wbG9'.'kZ'.'Q=='),base64_decode('bWt0'.'aW1l'),base64_decode('dGltZQ=='),base64_decode('ZXhwbG9kZQ=='),base64_decode('cGF'.'ja'.'w'.'='.'='),base64_decode('b'.'WQ'.'1'),base64_decode('Y29u'.'c3RhbnQ'.'='),base64_decode(''.'aGFzaF9o'.'bWFj'),base64_decode('c'.'3'.'RyY'.'21w'),base64_decode('ZX'.'hwbG9kZQ=='),base64_decode('b'.'Wt0aW1l'),base64_decode(''.'dGlt'.'Z'.'Q=='),base64_decode('aW5fYX'.'JyYXk'.'='),base64_decode('c'.'HJlZ19'.'y'.'ZXBsY'.'WN'.'lX2Nh'.'bG'.'x'.'iYWN'.'r'),base64_decode(''.'c3'.'RydG9'.'sb3dlcg'.'=='),base64_decode(''.'cHJlZ19tYX'.'R'.'jaA'.'=='),base64_decode('cHJlZ19'.'yZX'.'Bs'.'YWN'.'l'.'X2Nh'.'bG'.'xi'.'YWNr'));if(!function_exists(__NAMESPACE__.'\\___879789963')){function ___879789963($_42722434){static $_1327405169= false; if($_1327405169 == false) $_1327405169=array(''.'TEFORElOR19'.'NVVR'.'BVE9SX01PREU'.'=','ZmlsdGVy','IUl'.'E','UFV'.'CTE'.'lDX'.'1'.'B'.'BR0V'.'fUk'.'VBQ0hFRA='.'=','TEFORElOR1'.'9QV'.'U'.'JM'.'S'.'UNf'.'UEFHRV9'.'SR'.'UF'.'DSEVE','c'.'2'.'V'.'sZWN'.'0','S'.'UQ=','V'.'FlQ'.'RQ==','ZmlsdGVy','SUQ=',''.'PUFDVElWR'.'Q==','T'.'g'.'==','Z'.'mlsdG'.'Vy','I'.'Ul'.'E','S'.'UQ=','dHlwZQ='.'=',''.'VFlQRQ'.'==','UFVCTE'.'lDX1NJV'.'EVfUkVBQ0hFRA==','TEFORElOR1'.'9QVUJMSUNfU0lURV9SRUFDSE'.'VE','bGF'.'uZG'.'luZw==','b'.'2'.'5MY'.'W'.'5kaW'.'5n'.'UH'.'VibGljYXRpb2'.'4=','a'.'W'.'Q=','REI'.'=','U0'.'V'.'MRUNUIFZBT'.'F'.'VFIEZST'.'0'.'0gYl'.'9vc'.'HRpb'.'24'.'gV0hFUkUgT'.'kFNR'.'T0nfl'.'BB'.'UkFNX0Z'.'JTk'.'lTSF9EQVRF'.'JyBBTk'.'QgTU9E'.'VUxFX0lEPSd'.'tY'.'W'.'luJyB'.'BTkQgU0lU'.'RV9'.'JRCBJUyB'.'OVUxM',''.'VkFM'.'VUU=','Lg'.'==','SC'.'o'.'=',''.'Y'.'ml0cml'.'4','TElD'.'RU5TR'.'V9LRVk=','c2hh'.'M'.'jU2','Mj'.'AxOC0wMS'.'0w'.'M'.'Q==','MjA'.'xOC0'.'wMS0wMQ='.'=','LQ==','T'.'ElD'.'RU'.'5T'.'RV9FWF'.'B'.'JUkVE','T'.'EFOREl'.'O'.'R19MSU'.'N'.'FTlNF'.'X0VY'.'U'.'E'.'lSRUQ=','REI'.'=','U0VMRUNUIFZBTFVFI'.'EZST00g'.'Yl9vc'.'HRpb24'.'gV0hFUkUgTkFNRT0nf'.'lBB'.'UkFN'.'X0'.'ZJT'.'k'.'lTSF9EQV'.'RFJy'.'B'.'BTk'.'Q'.'gTU9EV'.'U'.'xF'.'X0lEP'.'Sdt'.'Y'.'W'.'luJyBBTkQg'.'U0'.'lURV9J'.'RCBJ'.'UyB'.'O'.'VUxM','VkFMV'.'U'.'U'.'=','Lg='.'=','SCo'.'=','Y'.'ml0cm'.'l4','T'.'E'.'lDRU5T'.'RV9LRVk=','c2'.'hhMjU2','MjAxOC0wMS0'.'w'.'MQ'.'==','MjAx'.'OC0wMS0wMQ==','L'.'Q'.'==',''.'TEl'.'DR'.'U5TRV9F'.'WFBJUkVE',''.'TEFORE'.'lOR19M'.'SUNFTl'.'NFX0VY'.'UElSRUQ=','QUNUSVZ'.'F','WQ==','UFVCTE'.'lD','WQ==','RE'.'FURV9QVU'.'JMSUM'.'=','REFU'.'RV9N'.'T0R'.'JRl'.'k=','QUNUSVZF','W'.'Q==','LyhbXDsiXX'.'swLDF9KSNibG9jayhb'.'XGRdK'.'ykoW1wmIl17M'.'Cw'.'xfSkva'.'XM=','c2'.'VsZ'.'WN0','SUQ=','U'.'F'.'VCTElD',''.'UEF'.'SRU5U'.'X0lE','Q'.'09'.'ERQ'.'='.'=',''.'U09S'.'VA'.'==','QUNUSVZ'.'F','QU5'.'D'.'SE9S','QU'.'ND'.'RVNT',''.'Q'.'09OVEVOVA'.'==','Zmlsd'.'GVy','TEl'.'E',''.'PURFTE'.'VURU'.'Q=',''.'Tg==','SUQ=','UF'.'VCT'.'ElD','WQ'.'='.'=','Q0'.'9OVE'.'VOVA==','L2h'.'yZWZc'.'PSIj'.'Y2F0'.'YWxvZyhFbG'.'VtZ'.'W50fFNlY3Rpb24'.'pKFtcZ'.'F0rKSIva'.'Q='.'=','aHJ'.'lZj0i','Ig==','Q09O'.'VEVOV'.'A'.'==','U'.'EFSRU5'.'UX0lE','U'.'E'.'FSR'.'U'.'5UX0lE','SU'.'Q=','U09SVA'.'==','U09'.'SVA==','Q'.'UNU'.'SVZF','QUNUSVZF','QU'.'5DSE9S','Q'.'U5DS'.'E9S','Q'.'UNDRV'.'NT','QUNDRVNT','Q09OVEV'.'OVA==','Q09OVEVOVA'.'==','UEF'.'S'.'R'.'U5UX'.'0lE','Q09'.'OVEVOVA'.'==',''.'TE'.'lE','Q0'.'9ERQ==','Q0'.'9ER'.'Q==','U0'.'9SVA='.'=','U09S'.'VA'.'==','QU5DSE9S','QU'.'5'.'DSE9'.'S',''.'QUNUSV'.'Z'.'F',''.'QU'.'NUSVZF','QUNDRVN'.'T','QUNDRVNT','Q0'.'9OVEVOV'.'A==','Q09OVEVOVA==','UE'.'FSRU'.'5UX0lE','Q09OVEVOVA==','Q0'.'9O'.'VE'.'VOV'.'A==','Q09OV'.'E'.'VOVA='.'=','I2'.'J'.'sb2Nr','I2Jsb2'.'Nr','Q09O'.'VEVOVA==');return base64_decode($_1327405169[$_42722434]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____527280285'][0](___879789963(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_252730593= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___879789963(1) => array( ___879789963(2) => $landing->getId())))){ $landing->getError()->addError( ___879789963(3), Loc::getMessage(___879789963(4))); return false;}  $_1740262531= Site::getList(array( ___879789963(5) => array( ___879789963(6), ___879789963(7)), ___879789963(8) => array( ___879789963(9) => $landing->getSiteId(), ___879789963(10) => ___879789963(11)))); if($_1803001363= $_1740262531->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___879789963(12) => array( ___879789963(13) => $_1803001363[___879789963(14)]), ___879789963(15) => $_1803001363[___879789963(16)]))){ $landing->getError()->addError( ___879789963(17), Loc::getMessage(___879789963(18))); return false;}}  $_710172512= new Event(___879789963(19), ___879789963(20), array( ___879789963(21) => $landing->getId())); $_710172512->send(); foreach($_710172512->getResults() as $_259152895){ if($_259152895->getResultType() == EventResult::ERROR){ foreach($_259152895->getErrors() as $_355844868){ $landing->getError()->addError( $_355844868->getCode(), $_355844868->getMessage());} return false;}} $_1241920840= $GLOBALS[___879789963(22)]->Query(___879789963(23), true); if($_1740262531= $_1241920840->Fetch()){ $_958603738= $_1740262531[___879789963(24)]; list($_937793237, $_73829830)= $GLOBALS['____527280285'][1](___879789963(25), $_958603738); $_1531952411= $GLOBALS['____527280285'][2](___879789963(26), $_937793237); $_471218742= ___879789963(27).$GLOBALS['____527280285'][3]($GLOBALS['____527280285'][4](___879789963(28))); $_45657128= $GLOBALS['____527280285'][5](___879789963(29), $_73829830, $_471218742, true); if($GLOBALS['____527280285'][6]($_45657128, $_1531952411) !==(886-2*443)){ $_73829830= ___879789963(30);}} else{ $_73829830= ___879789963(31);} if(!empty($_73829830)){ $_142023693= $GLOBALS['____527280285'][7](___879789963(32), $_73829830); $_1046881320= $GLOBALS['____527280285'][8]((830-2*415),(1124/2-562), min(238,0,79.333333333333), $_142023693[round(0+0.25+0.25+0.25+0.25)], $_142023693[round(0+1+1)], $_142023693[min(16,0,5.3333333333333)]); if($_1046881320 <= $GLOBALS['____527280285'][9]()){ $landing->getError()->addError( ___879789963(33), Loc::getMessage(___879789963(34))); return false;}} $_1241920840= $GLOBALS[___879789963(35)]->Query(___879789963(36), true); if($_1740262531= $_1241920840->Fetch()){ $_958603738= $_1740262531[___879789963(37)]; list($_937793237, $_73829830)= $GLOBALS['____527280285'][10](___879789963(38), $_958603738); $_1531952411= $GLOBALS['____527280285'][11](___879789963(39), $_937793237); $_471218742= ___879789963(40).$GLOBALS['____527280285'][12]($GLOBALS['____527280285'][13](___879789963(41))); $_45657128= $GLOBALS['____527280285'][14](___879789963(42), $_73829830, $_471218742, true); if($GLOBALS['____527280285'][15]($_45657128, $_1531952411) !==(918-2*459)){ $_73829830= ___879789963(43);}} else{ $_73829830= ___879789963(44);} if(!empty($_73829830)){ $_142023693= $GLOBALS['____527280285'][16](___879789963(45), $_73829830); $_1046881320= $GLOBALS['____527280285'][17]((1304/2-652),(808-2*404), min(206,0,68.666666666667), $_142023693[round(0+0.5+0.5)], $_142023693[round(0+0.5+0.5+0.5+0.5)], $_142023693[min(152,0,50.666666666667)]); if($_1046881320 <= $GLOBALS['____527280285'][18]()){ $landing->getError()->addError( ___879789963(46), Loc::getMessage(___879789963(47))); return false;}}  Block::publicationBlocks($landing); $_51575613= new \Bitrix\Main\Type\DateTime; $_1740262531= Landing::update($landing->getId(), array( ___879789963(48) => ___879789963(49), ___879789963(50) => ___879789963(51), ___879789963(52) => $_51575613, ___879789963(53) => false));  if($_1740262531->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____527280285'][19]($landing->getSiteId(), $_252730593)){ $_252730593[]= $landing->getSiteId(); Site::update($landing->getSiteId(), array( ___879789963(54) => ___879789963(55)));} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_70969174= $landing->getId(); $_1700273959= array(); $_604055385= array(); $_505571982= array(); $_334990070= ___879789963(56); $_1740262531= Block::getList(array( ___879789963(57) => array( ___879789963(58), ___879789963(59), ___879789963(60), ___879789963(61), ___879789963(62), ___879789963(63), ___879789963(64), ___879789963(65), ___879789963(66)), ___879789963(67) => array( ___879789963(68) => $landing->getId(), ___879789963(69) => ___879789963(70)))); while($_1803001363= $_1740262531->fetch()){ $_1700273959[$_1803001363[___879789963(71)]]= $_1803001363;}  foreach($_1700273959 as $_664496986 => $_454166883){ if($_454166883[___879789963(72)] != ___879789963(73)){  $_454166883[___879789963(74)]= $GLOBALS['____527280285'][20]( ___879789963(75), function($_984050408){ return ___879789963(76). PublicAction\Utils::getIblockURL( $_984050408[round(0+0.4+0.4+0.4+0.4+0.4)], $GLOBALS['____527280285'][21]($_984050408[round(0+0.5+0.5)])). ___879789963(77);}, $_454166883[___879789963(78)]); $_1209956287= isset($_1700273959[$_454166883[___879789963(79)]])? $_1700273959[$_454166883[___879789963(80)]][___879789963(81)]:(780-2*390); if($_1209956287){ Block::update($_1209956287, array( ___879789963(82) => $_454166883[___879789963(83)], ___879789963(84) => $_454166883[___879789963(85)], ___879789963(86) => $_454166883[___879789963(87)], ___879789963(88) => $_454166883[___879789963(89)], ___879789963(90) => $_454166883[___879789963(91)])); unset($_1700273959[$_454166883[___879789963(92)]]);  File::replaceInBlock( $_1209956287, File::getFilesFromBlockContent( $_664496986, $_454166883[___879789963(93)]));} else{ $_1740262531= Block::add(array( ___879789963(94) => $_70969174, ___879789963(95) => $_454166883[___879789963(96)], ___879789963(97) => $_454166883[___879789963(98)], ___879789963(99) => $_454166883[___879789963(100)], ___879789963(101) => $_454166883[___879789963(102)], ___879789963(103) => $_454166883[___879789963(104)], ___879789963(105) => $_454166883[___879789963(106)])); if($_1740262531->isSuccess()){ $_1209956287= $_1740262531->getId(); Block::update($_664496986, array( ___879789963(107) => $_1209956287));  File::addToBlock( $_1209956287, File::getFilesFromBlockContent( $_664496986, $_454166883[___879789963(108)]));}} if($GLOBALS['____527280285'][22]($_334990070, $_454166883[___879789963(109)])){ $_604055385[$_1209956287]= $_454166883[___879789963(110)];} $_505571982[$_664496986]= $_1209956287; unset($_1700273959[$_664496986]);}}  foreach($_1700273959 as $_664496986 => $_454166883){ Block::delete($_664496986);}  foreach($_604055385 as $_664496986 => $_353050190){ $_353050190= $GLOBALS['____527280285'][23]( $_334990070, function($_1671311811) use($_505571982){ if(isset($_505571982[$_1671311811[round(0+0.5+0.5+0.5+0.5)]])){ return $_1671311811[round(0+0.25+0.25+0.25+0.25)]. ___879789963(111). $_505571982[$_1671311811[round(0+2)]]. $_1671311811[round(0+0.75+0.75+0.75+0.75)];} else{ return $_1671311811[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]. ___879789963(112). $_1671311811[round(0+0.4+0.4+0.4+0.4+0.4)]. $_1671311811[round(0+0.75+0.75+0.75+0.75)];}}, $_353050190); Block::update($_664496986, array( ___879789963(113) => $_353050190));}}}}?>